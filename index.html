<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Password Generator</title>
</head>
<body>
    <div class="container border">
        <div class="container d-flex justify-content-center">
            <h1>Password Generator</h1>
        </div>
        <div class="container">
            <form>
                <div class="row">
                    <div class="col-4 d-flex justify-content-center border">
                        <div class="container">
                            <div class="form-check-inline form-check">
                                <label for="pwLength" class="col-8 col-form-label"> Password Length:</label>
                                <input type="pwLength" class="form-control col-3" id="pwLength" placeholder="e.g. 10">
                            </div>
                        </div>
                    </div>
                    <div class="col-8 ">
                        <div class="row">
                            <div class="container d-flex justify-content-around">
                                <h3>Character Choices</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="container d-flex justify-content-around">
                                <div class="form-check-inline form-check">
                                    <input type="checkbox" class="form-check-input" id="specialChar" >
                                    <label class="form-check-label" for="specialChar">Special</label>
                                </div>
                                <div class="form-check-inline form-check">
                                    <input type="checkbox" class="form-check-input" id="numericChar">
                                    <label class="form-check-label" for="numericChar">Numeric</label>
                                </div>
                                <div class="form-check-inline form-check">
                                    <input type="checkbox" class="form-check-input" id="upperCaseChar">
                                    <label class="form-check-label" for="upperCaseChar">Upper Case</label>
                                </div>
                                <div class="form-check-inline form-check">
                                    <input type="checkbox" class="form-check-input" id="lowerCaseChar">
                                    <label class="form-check-label" for="lowerCaseChar">Lower Case</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="container d-flex justify-content-center">
            <div class="d-flex justify-content-center">
                <input class="form-control col-12" type="text" id="outputBox" readonly>
                <button type="button" class="btn btn-light">Copy</button>  
            </div>
        </div>
        <div class="row">
            <div class="col-6 d-flex justify-content-center">
                <button type="button" class="btn btn-primary" onclick="generatePassword()">Generate</button>     
            </div>
            <div class="col-6 d-flex justify-content-center">
                <button type="button" class="btn btn-primary">Reset</button>     
            </div>
        </div>
    </div>

    <script>
        

        var password
        var pwlenght;
        var specialchar;
        var numericchar;
        var uppercase;
        var lowercase;
        var boxesArray = ["specialChar","numericChar","upperCaseChar","lowerCaseChar"]
        var numericCharArray= "1234567890"
        var lowerCaseArray= "abcdefghijklmnopqrstuvwxyz"
        var upperCaseArray= "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
        var specialCharArray= "!#$%&()*+-.,:;<=>?@[^_`{|}~"
        var pwArray
        var minOneBoxChecked
        var passwordLengthProvided
        // missing quotation mark, closing square bracket and backslash
        // if (document.getElementById("lowercasecheckbox").click) {
        //     pwarray = pwarray.concat(lowercasearray)
        // }
        // Generator

        // Function to add character arrays if box is checked
        function addCharacterTypes(box, array){
            if (document.getElementById(box).checked == true) {
                pwArray = pwArray.concat(array)
            }
        }

        function generatePassword(){
            // Check to ensure at least one character type box is clicked
            minOneBoxChecked = false
            for (var i = 0; i < boxesArray.length; i++){
                if(document.getElementById(boxesArray[i]).checked == true){
                    minOneBoxChecked = true
                }
            }
            // Check to ensure length is provided by user
            if(document.getElementById("pwLength").value !== "") {passwordLengthProvided = true}
            
            if (minOneBoxChecked == true && passwordLengthProvided == true){

                pwlength = document.getElementById("pwLength").value
                password = ""
                pwArray = ""
                
                //loop through each box and add if checked (name arrays to "id + array")
                addCharacterTypes("specialChar", specialCharArray)
                addCharacterTypes("numericChar", numericCharArray)
                addCharacterTypes("upperCaseChar", upperCaseArray)
                addCharacterTypes("lowerCaseChar", lowerCaseArray)

                for (var i=0; i <= pwlength; i++){
                    password = password.concat(pwArray[Math.floor(Math.random()*pwArray.length)])
                }
                // Print generated password in box
                document.getElementById("outputBox").value = password
            }
            else{
                if(minOneBoxChecked == false){
                    alert("Please select at least one Character Choice")
                }
                else{
                    alert("Please provide Password Length")
                }
                
            }
        }


   </script>
</body>
</html>

